<script lang="ts">
  	import type TTRPGSystem from "../interfaces/TTRPGSystem";

	export let system: TTRPGSystem;
	export let starColor: string = "#b69047";
	export let radialColor: string = "#5e6163";
	export let iconsColor: string = "#E5E7EB";
	export let config = {
		wantIcons: true,
		wantRadial: true
	};

	type CoordMap = Record<number, string>;

	let N: CoordMap = {
		1: "82.307l5.182 5.182",
		2: "75.331l5.182 12.158",
		3: "61.3l5.182 26.189",
		4: "46.165l5.182 41.324",
		5: "27.258l5.182 60.231"
	}

	let NE: CoordMap = {
		1: "h7.329v7.329l",
		2: " 11.996-4.667-4.667 11.996 ",
		3: " 22.996-15.667-15.667 22.996 ",
		4: " 33.996-26.667-26.667 33.996 ",
		5: " 44.996-37.667-37.667 44.996 "
	}

	let E: CoordMap = {
		1: "5.182 5.182-5.182",
		2: "12 5.182-12",
		3: "26 5.182-26",
		4: "41 5.182-41",
		5: "60 5.182-60",
	}

	let SE: CoordMap = {
		1: "v7.329h-7.329",
		2: " 9.545 16.874-16.874-9.545",
		3: "  17.627 24.956-24.956-17.627",
		4: " 27.403 34.732-34.732-27.403",
		5: " 43.197 50.526-50.526-43.197"
	}

	let S: CoordMap = {
		1: "117.693l-5.182-5.182",
		2: "131.114l-5.182-18.603",
		3: "141.969l-5.182-29.458",
		4: "156.441l-5.182-43.93",
		5: "177.378l-5.182-64.867"
	}

	let SW: CoordMap = {
		1: "h-7.329v-7.329",
		2: "-14 7 7-14",
		3: "-26.076 18.747 18.747-26.076",
		4: "-38 31 31-38",
		5: "-50 43 43-50",
	}

	let W: CoordMap = {
		1: "L82.307 100l5.182-5.182",
		2: "L68.9 100.015l18.589-5.197",
		3: "L58.031 100l29.458-5.182",
		4: "l-43.197-5.167 43.197-5.197",
		5: "l-65.023-5.167 65.023-5.197"
	}

	let NW: CoordMap = {
		1: "v-7.329h7.329",
		2: " 82 82l13 6",
		3: " 70 70l25 17.5",
		4: " 59.197 59.197l35.621 28.292",
		5: " 45 45l49.5 42.5",
	}
	
</script>
<!-- -25 -40 250 250 -->
<svg viewBox="-50 -60 300 300" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
	<path style="fill:none" d="M0 0h200v200H0z"/>
	{#if config.wantIcons}
  		<path d="M190.957 92.583c-.941 0-1.779.594-2.09 1.483h-4.582v1.483h1.445l-2.187 5.19c-.348 1.483.742 2.224 2.595 2.224 1.854 0 3.01-.741 2.595-2.224l-2.187-5.19h2.313c.245.63.727 1.112 1.357 1.357v8.282h-6.673v1.483h14.829v-1.483h-6.673v-8.289a2.291 2.291 0 0 0 1.349-1.35h2.321l-2.187 5.19c-.349 1.483.741 2.224 2.595 2.224 1.853 0 3.01-.741 2.595-2.224l-2.188-5.19h1.446v-1.483h-4.574a2.232 2.232 0 0 0-2.099-1.483m0 1.483c.407 0 .742.335.742.742a.745.745 0 0 1-.742.741.745.745 0 0 1-.741-.741c0-.407.335-.742.741-.742m-4.819 3.893 1.112 2.78h-2.224l1.112-2.78m9.639 0 1.112 2.78h-2.224l1.112-2.78ZM172.697 174.322a2.312 2.312 0 0 1-2.223 1.588h-7.941c-1.35 0-2.382-1.032-2.382-2.382v-.794h9.687a2.314 2.314 0 0 0 2.224 1.588h.635m.953-14.293c1.35 0 2.382 1.032 2.382 2.382v.794h-1.588v-.794c0-.477-.317-.794-.794-.794-.476 0-.794.317-.794.794v10.323h-.794c-.477 0-.794-.318-.794-.794v-.794h-8.735v-8.735c0-1.35 1.032-2.382 2.382-2.382h8.735m-8.735 3.176v1.588h5.559v-1.588h-5.559m0 3.176v1.588h4.765v-1.588h-4.765ZM14.5 99.636h-1.093v-2.915c0-.799-.658-1.457-1.457-1.457H9.035v-1.093a1.83 1.83 0 0 0-1.821-1.822c-1 0-1.822.823-1.822 1.822v1.093H2.478c-.8 0-1.458.658-1.458 1.457v2.769h1.093a1.96 1.96 0 0 1 1.968 1.967 1.96 1.96 0 0 1-1.968 1.968H1.02v2.768c0 .8.658 1.458 1.458 1.458h2.768v-1.093a1.96 1.96 0 0 1 1.968-1.968 1.96 1.96 0 0 1 1.967 1.968v1.093h2.769c.799 0 1.457-.658 1.457-1.458v-2.914H14.5a1.83 1.83 0 0 0 1.822-1.822 1.83 1.83 0 0 0-1.822-1.821ZM171.115 24.09v3.386h-3.387v3.386h-3.386v3.387h-3.386v2.54h5.926v-3.387h3.386v-3.386h3.387v-3.387h3.386V24.09h-5.926ZM96.734 183.464l8.449 8.448 1.505-1.505 1.001 1.001-1.754 1.754 2.258 2.258a.707.707 0 0 1 0 1.001l-.504.504a.708.708 0 0 1-1.001 0l-2.286-2.251-1.733 1.754-1.001-1.001 1.505-1.505-8.448-8.449v-2.009h2.009m6.88 5.367 3.365-3.365v-2.002h-2.009l-3.366 3.365 2.01 2.002m-3.515 3.55-2.009-2.038-1.569 1.569-1.505-1.505-1.001 1.001 1.754 1.754-2.258 2.265a.706.706 0 0 0 0 1.001l.504.504a.707.707 0 0 0 1.001 0l2.286-2.258 1.732 1.754 1.001-1.001-1.505-1.505 1.569-1.541ZM38.918 174.785v1.863l-1.581-1.028-4.208-7.907a4.354 4.354 0 0 0 1.564-.878m-.167-3.365a2.648 2.648 0 0 1-2.636 2.635 2.777 2.777 0 0 1-.387 0l-5.06 9.515-1.581 1.028v-1.863l5.086-9.558a2.636 2.636 0 0 1-.671-1.757 2.649 2.649 0 0 1 2.613-2.636v-1.757c.482 0 .879.397.879.879v1.036a2.641 2.641 0 0 1 1.757 2.478m-1.757 0a.883.883 0 0 0-.879-.879.883.883 0 0 0-.878.879c0 .482.396.878.878.878a.883.883 0 0 0 .879-.878m-7.714 2.635 1.564 1.582-1.265 2.425-2.162-2.162m8.698 4.973-1.318-1.327-1.318 2.416 2.636 2.636 2.636-2.636-1.292-2.433m5.491-5.474-1.564 1.582 1.318 2.425 2.109-2.162-1.863-1.845ZM106.684 10.81a3.813 3.813 0 0 1-1.589 3.321l.647 1.253c.194.378.219.824.051 1.219-.16.395-.488.706-.892.84l-.664.211a1.421 1.421 0 0 1-1.563-.463l-1.783-2.102a4.466 4.466 0 0 1-2.051-.924c-.42.126-.841.193-1.261.193-.74 0-1.48-.227-2.102-.664-.446.134-.9.193-1.362.185a4.922 4.922 0 0 1-1.934-.379 3.456 3.456 0 0 1-2.043-3.035 3.307 3.307 0 0 1 .295-1.773 2.905 2.905 0 0 1-.059-1.959 3.765 3.765 0 0 1 1.631-1.884c.487-1.42 1.858-2.37 3.363-2.269a3.86 3.86 0 0 1 4.901-.312 4.352 4.352 0 0 1 1.093-.142 3.645 3.645 0 0 1 2.943 1.378 4.04 4.04 0 0 1 3.009 3.758c.042.933-.21 1.85-.723 2.632.059.302.093.605.093.916m-4.204-1.185c.479.059.858.42.858.899 0 .461-.38.841-.841.841h-.53a4.342 4.342 0 0 1-1.362 1.925c.211.076.429.118.648.177 4.313-.059 3.808-2.691 3.808-2.733a2.19 2.19 0 0 0-2.261-2.093.844.844 0 0 1-.841-.841c0-.461.379-.84.841-.84a4.395 4.395 0 0 1 2.799 1.093 4.43 4.43 0 0 0 .068-.749c-.051-1.042-.522-1.95-2.413-2.127-1.051-2.488-3.7-1.109-3.7-.336-.025.193.177.605.211.631.461 0 .84.379.84.84a.843.843 0 0 1-.84.841 1.971 1.971 0 0 1-1.203-.471 3.06 3.06 0 0 1-1.345.471c-.479.042-.874-.294-.899-.757a.816.816 0 0 1 .74-.924c.134-.017.79-.118.79-.648 0-.555.21-1.084.572-1.505-.774-.21-1.606.068-2.447 1.085-1.547-.244-2.177-.034-2.64 1.606-.799.395-1.219.672-1.404 1.513a4.954 4.954 0 0 1 2.707.21c.421.16.656.631.496 1.085a.844.844 0 0 1-1.084.496 2.569 2.569 0 0 0-1.934-.051c-.269.227-.269.698-.269 1.068 0 .622.311 1.202.841 1.538.445.227.941.345 1.437.337a5.07 5.07 0 0 1-.327-.681.877.877 0 0 1 .834-1.129c.359 0 .683.222.813.557a2.614 2.614 0 0 0 2.203 1.724 3.148 3.148 0 0 0 2.682-1.791c.193-1.16 1.127-1.261 2.152-1.261m1.682 6.28-.522-1.093-.597.134.841 1.051.278-.092m-3.91-7.239a.845.845 0 0 0-.765-.866 2.25 2.25 0 0 0-1.622.564 2.498 2.498 0 0 0-.707 1.841c0 .461.38.841.841.841a.833.833 0 0 0 .841-.841c0-.227.059-.454.193-.639a.558.558 0 0 1 .362-.126c.462.025.857-.32.857-.774ZM28.598 30.793v5.925h-5.926v-5.925h5.926m.741-8.518 4.073 6.666h-8.147l4.074-6.666m4.073 8.147a3.32 3.32 0 0 1 3.334 3.333 3.32 3.32 0 0 1-3.334 3.334 3.32 3.32 0 0 1-3.333-3.334 3.32 3.32 0 0 1 3.333-3.333Z" style="fill:{iconsColor};fill-rule:nonzero"/>
	{/if}
	{#if config.wantRadial}
		<path d="m99.966 68.915 21.99 9.109 9.109 21.991-9.109 21.99-21.99 9.109-21.991-9.109-9.109-21.99 9.109-21.991 21.991-9.109Z" style="fill:none;stroke:{radialColor};stroke-width:.53px;stroke-dasharray:1.6,2.13,0,0"/>
  		<path d="m99.966 58.031 29.676 12.292L141.935 100l-12.293 29.677-29.676 12.292-29.677-12.292L57.997 100l12.292-29.677 29.677-12.292Z" style="fill:none;stroke:{radialColor};stroke-width:.53px;stroke-dasharray:1.6,2.13,0,0"/>
  		<path d="m99.966 44.292 39.391 16.317L155.674 100l-16.317 39.391-39.391 16.317-39.392-16.317L44.258 100l16.316-39.391 39.392-16.317Z" style="fill:none;stroke:{radialColor};stroke-width:.53px;stroke-dasharray:1.6,2.13,0,0"/>
  		<path d="m99.966 22.466 54.824 22.709L177.499 100l-22.709 54.825-54.824 22.709-54.825-22.709L22.432 100l22.709-54.825 54.825-22.709Z" style="fill:none;stroke:{radialColor};stroke-width:.53px;stroke-dasharray:1.6,2.13,0,0"/>
	{/if}
	<path d="M87.489 94.818{NW[system.Versatility]}L100 {N[system.Complexity]}{NE[system.Progression]}{E[system.Balance]} 5.182{SE[system.Narrative]}L100 {S[system.Combat]}{SW[system.Exploration]}{W[system.Customization]}Zm19.466 5.324c.079-.078.079-.206 0-.284l-6.813-6.813c-.078-.079-.206-.079-.284 0l-6.813 6.813c-.079.078-.079.206 0 .284l6.813 6.813c.078.079.206.079.284 0l6.813-6.813Z" style="fill:{starColor}"/>
</svg>